---
import { PortableText } from "@portabletext/react";
import Layout from "../../layouts/Layout.astro";
import { getPolicyPage } from "../../utils/groqQueries";

const policyPage = await getPolicyPage();
---

<Layout title={"Policy Table"}>
  <div class="policy-table-container">
    <h1>Policy Table</h1>
    <table class="policy-table">
      <thead>
        <tr>
          <th>Bill</th>
          <th>Summary</th>
          <th>Info</th>
          <th>Position</th>
          <th>Show Support</th>
        </tr>
      </thead>
      <tbody>
        {
          policyPage?.policyRows?.map(
            (row: {
              bill: any;
              summary: any;
              info: any;
              position: any;
              showSupport: any;
            }) => (
              <tr>
                <td>
                  <PortableText value={row.bill} />
                </td>
                <td>
                  <PortableText value={row.summary} />
                </td>
                <td>
                  <PortableText value={row.info} />
                </td>
                <td>
                  <PortableText value={row.position} />
                </td>
                <td>
                  <PortableText value={row.showSupport} />
                </td>
              </tr>
            )
          )
        }
      </tbody>
    </table>
  </div>
</Layout>
